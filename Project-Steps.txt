# ğŸš€ Jenkins GitHub Webhook Integration â€“ Auto Build & Email Notification

## ğŸ§  **Objective**

The goal of this task is to:

1. Create a **simple script file** (e.g., a shell script).
2. Push it to a **GitHub repository**.
3. Connect your GitHub repo to a **Jenkins project**.
4. Whenever you push a new commit to GitHub, Jenkins should **automatically trigger a build** (using a **webhook**) and then **send you an email notification** ğŸ“§ with the build result.

---

## âš™ï¸ **Tech Stack Used**

* â˜ï¸ **AWS EC2 (Ubuntu)** â€“ Host Jenkins
* ğŸ§° **GitHub** â€“ Store your project/script
* âš™ï¸ **Jenkins** â€“ Automate builds & send notifications

---

## ğŸ§© **Prerequisites**

Before starting, make sure you have the following ready:
âœ… Jenkins installed and running (from your previous task)
âœ… Port **8080** open in your EC2 Security Group
âœ… A working **GitHub account**
âœ… **Java** installed on the EC2 instance
âœ… Outbound internet access from EC2 (for Jenkins to reach GitHub & send emails)

---

## ğŸªœ **Steps to Perform**

### 1ï¸âƒ£ **Create a Simple Script File**

On your **local system** or **EC2 instance**, create a simple script named `build.sh`:

```bash
#!/bin/bash
echo "âœ… Jenkins build triggered successfully!"
date
```

Make it executable:

```bash
chmod +x build.sh
```

---

### 2ï¸âƒ£ **Push Script to GitHub Repo**

* Create a new GitHub repository (e.g., `jenkins-webhook-demo`)
* Initialize git and push your script:

  ```bash
  git init
  git add build.sh
  git commit -m "Initial commit"
  git branch -M main
  git remote add origin https://github.com/<your-username>/jenkins-webhook-demo.git
  git push -u origin main
  ```

---

### 3ï¸âƒ£ **Install Required Jenkins Plugins**

On your Jenkins dashboard:
ğŸ§© Go to **Manage Jenkins â†’ Plugins â†’ Available Plugins**
Search and install:

* âœ… **Git plugin**
* âœ… **GitHub Integration plugin**
* âœ… **Email Extension Plugin**

Restart Jenkins after installation.

---

### 4ï¸âƒ£ **Configure Email Notification in Jenkins**

To send build result via email:

1. Go to **Manage Jenkins â†’ System**
2. Find **â€œExtended E-mail Notificationâ€** section
3. Add:

   * SMTP Server: `smtp.gmail.com`
   * Use Authentication â†’ enter your Gmail credentials (use App Password if 2FA enabled)
   * Default user e-mail suffix: `@gmail.com`
4. Click **Apply and Save**
5. Test email by sending a test message ğŸ“§

---

### 5ï¸âƒ£ **Create a Jenkins Project Connected to GitHub**

1. On Jenkins Dashboard â†’ click **New Item**
2. Enter a name (e.g., *GitHub-Auto-Build*)
3. Choose **Freestyle project** â†’ click OK

In project configuration:

* Under **Source Code Management â†’ Git**

  * Paste your repo URL:

    ```
    https://github.com/<your-username>/jenkins-webhook-demo.git
    ```
* Add credentials if required (GitHub personal access token).

---

### 6ï¸âƒ£ **Set Up GitHub Webhook (Auto Build Trigger)**

Now connect GitHub â†’ Jenkins using a webhook ğŸ”—

#### In GitHub:

1. Go to your repo â†’ **Settings â†’ Webhooks â†’ Add webhook**
2. Payload URL:

   ```
   http://<your-ec2-public-ip>:8080/github-webhook/
   ```
3. Content type: `application/json`
4. Select â€œJust the push eventâ€
5. Click **Add Webhook**

#### In Jenkins (Job Configuration):

* Under **Build Triggers**, check âœ… **GitHub hook trigger for GITScm polling**
* Under **Build Steps**, choose **Execute Shell** and enter:

  ```bash
  bash build.sh
  ```
* Under **Post-build Actions â†’ Editable Email Notification**

  * Add recipient email
  * Add subject: `Jenkins Build Result: $BUILD_STATUS`
  * Add content:

    ```
    Jenkins build for project "$PROJECT_NAME" finished with status: $BUILD_STATUS
    Console output: $BUILD_URL/console
    ```
* Save the configuration.

---

### 7ï¸âƒ£ **Test the Setup**

1. Make a small change in your script locally, for example:

   ```bash
   echo "Build triggered from GitHub commit!"
   ```
2. Commit and push to GitHub:

   ```bash
   git add .
   git commit -m "Testing webhook trigger"
   git push
   ```
3. Check Jenkins â†’ it should **automatically start a new build** ğŸ§©
4. After the build completes, youâ€™ll receive a **build status email** ğŸ‰

---

## ğŸ§¹ **Cleanup (Optional)**

To stop or remove Jenkins and free resources on EC2:

```bash
sudo systemctl stop jenkins
sudo apt remove --purge jenkins -y
sudo apt autoremove -y
```

Or simply **terminate the EC2 instance** from the AWS console.

---
